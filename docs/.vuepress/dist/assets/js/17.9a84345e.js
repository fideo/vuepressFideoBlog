(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{217:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"deploy-meteor-en-tu-propio-servidor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-meteor-en-tu-propio-servidor","aria-hidden":"true"}},[s._v("#")]),s._v(" Deploy Meteor en tu propio servidor")]),s._v(" "),t("p",[s._v("Hoy voy a dejar en mi blog asentado como hice para hacer que una aplicaci√≥n "),t("a",{attrs:{href:"https://guide.meteor.com/deployment.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Meteor"),t("OutboundLink")],1),s._v(" est√© corriendo en mi servidor / hosting. Por el momento yo tengo mis sites hosteados en "),t("a",{attrs:{href:"https://donweb.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("DonWeb"),t("OutboundLink")],1),s._v(" con un servicio de Cloud Server. Accedo a este servicio a trav√©s de una consola y en ese server tengo instalado CentOS al momento de escribir esta nota.")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/redhat-release "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#devuelve CentOS Linux release 7.3.1611 (Core)")]),s._v("\n")])])]),t("p",[s._v("Primero hay que instalar "),t("a",{attrs:{href:"https://nginx.org/en/",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx"),t("OutboundLink")],1),s._v(" , "),t("a",{attrs:{href:"https://www.mongodb.com/es",target:"_blank",rel:"noopener noreferrer"}},[s._v("mongodb"),t("OutboundLink")],1),s._v(" , "),t("a",{attrs:{href:"https://www.meteor.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("meteor"),t("OutboundLink")],1),s._v(" y "),t("a",{attrs:{href:"https://www.phusionpassenger.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Passenger"),t("OutboundLink")],1),s._v(" para esto pueden seguir las instrucciones de cada uno de las app en sus respectivos sitios o ver como lo hice yo en el video üòâ")]),s._v(" "),t("iframe",{attrs:{width:"100%",height:"400",src:"https://www.youtube.com/embed/5sbQyFfw3N8",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),s._v(" "),t("p",[s._v("Igualmente ac√° les dejo un resumen de los comando a utilizar para instalar cada uno de los servicios en CentOS 7")]),s._v(" "),t("h2",{attrs:{id:"instalando-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-nginx","aria-hidden":"true"}},[s._v("#")]),s._v(" Instalando nginx")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx \n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx \n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start nginx\n")])])]),t("h2",{attrs:{id:"instalando-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-mongodb","aria-hidden":"true"}},[s._v("#")]),s._v(" Instalando MongoDB")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/yum.repos.d/mongodb-org.repo\n\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mongodb-org-3.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MongoDB Repository "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://repo.mongodb.org/yum/redhat/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/mongodb-org/3.4/x86_64/ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://www.mongodb.org/static/pgp/server-3.4.asc \n \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum repolist \n Salida "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" \n repo "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" repo name base/7/x86_64 CentOS-7 - Base extras/7/x86_64 CentOS-7 - Extras mongodb-org-3.2/7/x86_64 MongoDB Repository updates/7/x86_64 CentOS-7 - Updates "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" \n \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mongodb-org \n \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start mongod \n \n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl reload mongod\n")])])]),t("h2",{attrs:{id:"instalando-meteor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-meteor","aria-hidden":"true"}},[s._v("#")]),s._v(" Instalando Meteor")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://install.meteor.com/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])])]),t("h2",{attrs:{id:"instalando-node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-node-js","aria-hidden":"true"}},[s._v("#")]),s._v(" Instalando Node JS")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs \n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" node --version Salida v0.10.30 \n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v("\n\n")])])]),t("h2",{attrs:{id:"instalando-passenger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-passenger","aria-hidden":"true"}},[s._v("#")]),s._v(" Instalando Passenger")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y epel-release yum-utils \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --enable epel \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum clean all "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum update -y \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y pygpgme "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" --fail -sSLo /etc/yum.repos.d/passenger.repo https://oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y nginx passenger "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --enable cr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y nginx passenger \n")])])]),t("p",[s._v("Una vez realizado todos estos pasos hay que editar el archivo passenger.conf ubicado /etc/nginx/conf.d/passenger.conf .\nEsto nos permitir√° hacer un "),t("strong",[s._v("deploy meteor en tu propio servidor")]),s._v(".")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#passenger_root /some-filename/locations.ini; ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#passenger_ruby /usr/bin/ruby; ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#passenger_instance_registry_dir /var/run/passenger-instreg;")]),s._v("\n")])])]),t("p",[s._v("Hay que sacarle el comentario ( # ) y grabarlo el archivo deber√≠a quedar as√≠ --\x3e")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("passenger_root /some-filename/locations.ini"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \npassenger_ruby /usr/bin/ruby"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \npassenger_instance_registry_dir /var/run/passenger-instreg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("Luego se reinicia el servidor nginx")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx restart\n")])])]),t("p",[s._v("Se puede chequear la instalaci√≥n ejecutando esta linea")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /usr/bin/passenger-config validate-install\n")])])]),t("p",[s._v("y tiene que devolver algo similar a esto")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("* Checking whether this Phusion Passenger "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". ? \n* Checking whether there are no other Phusion Passenger installations"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". ?\n")])])]),t("p",[s._v("** Listo ya pod√©s hacer un Deploy de Meteor en tu propio servidor. **")]),s._v(" "),t("p",[t("a",{attrs:{href:"/blog/20170925-reaction-commerce-usando-propio-servidor"}},[s._v("En este link les muestro como realizo un deploy con reaction commerce corriendo en mi propio servidor.")])])])}),[],!1,null,null,null);a.default=n.exports}}]);